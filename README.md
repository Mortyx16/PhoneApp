Результаты выполнения тестового задания
1. Список замечаний с причинами и вариантами исправления
Замечание 1:
Приложение может не вызывать метод Run() подключаемого плагина, даже если загрузка .dll и атрибута [Author] происходят успешно.
Причина:
В коде PhoneApp загрузка плагинов фильтруется не по интерфейсу IPluggable, а по более специфическому интерфейсу (например, IEmployeesLoaderPlugin).
Вариант исправления:
Вынести интерфейсы IPluggable и IEmployeesLoaderPlugin и модели DTO в отдельный проект (например, PhoneApp.Domain), собрать его как отдельную библиотеку и подключать эту библиотеку и в PhoneApp, и в проект плагина. При реализации плагина необходимо реализовать именно тот интерфейс, который приложение ожидает при загрузке (IEmployeesLoaderPlugin).
Замечание 2:
При сборке проекта на старых версиях C# встречается ошибка использования оператора индексации с символом ^.
Причина:
Оператор ^ (индекс с конца) поддерживается только начиная с C# 8.0.
Вариант исправления:
Использовать стандартный индекс через выражение Count - 1, совместимое с C# 7.3 и более старыми версиями.
Замечание 3:
Класс DataTransferObject в исходном проекте абстрактный и не позволяет создавать экземпляры через new.
Причина:
DataTransferObject задуман как базовый абстрактный класс для различных конкретных реализаций DTO.
Вариант исправления:
Добавить в проект плагина конкретный класс EmployeesDTO, наследующий DataTransferObject и содержащий необходимые свойства Name и Phone. В коде плагина использовать именно этот конкретный тип.
2. Итог
Для корректной работы плагина и его вызова со стороны приложения необходимо: Использовать правильный интерфейс (например, IEmployeesLoaderPlugin), если приложение фильтрует плагины по этому типу. Убедиться, что все модели и интерфейсы доступны плагину (вынесены в общую библиотеку). Соблюдать совместимость по версии языка C#. Использовать конкретную реализацию DTO, а не абстрактный базовый класс.
